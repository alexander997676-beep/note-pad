<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOTE PAK | Golden Premium</title>
    
    <!-- Libraries (CryptoJS and Icons) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.0/lucide.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Outfit:wght@300;400;600;900&display=swap" rel="stylesheet">

    <style>
        :root {
            --gold: #D4AF37;
            --gold-light: #FFD700;
            --bg: #000000;
            --surface: #0a0a0a;
            --card: #141414;
            --border: rgba(212, 175, 55, 0.4);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Outfit', sans-serif; }
        body { background: var(--bg); color: white; height: 100vh; overflow: hidden; display: flex; justify-content: center; }

        /* --- SPLASH SCREEN --- */
        #splash {
            position: fixed; inset: 0; background: #000; z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            cursor: pointer; transition: 0.5s ease;
        }
        #splash h1 { 
            font-family: 'Playfair Display', serif; font-size: 50px; font-weight: 900;
            background: linear-gradient(to right, #996515, var(--gold-light), #996515);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            animation: shimmer 3s infinite linear; background-size: 200%;
        }
        @keyframes shimmer { 0% { background-position: -100%; } 100% { background-position: 100%; } }

        /* --- APP SHELL --- */
        .app-shell {
            width: 100%; max-width: 500px; background: var(--surface); height: 100vh;
            position: relative; border-left: 1px solid var(--border); border-right: 1px solid var(--border);
            display: none; flex-direction: column; /* Initially hidden */
        }

        header { padding: 40px 20px 15px; text-align: center; border-bottom: 1px solid var(--border); }
        header h2 { font-family: 'Playfair Display', serif; color: var(--gold); font-size: 28px; }

        .dashboard { flex: 1; overflow-y: auto; padding: 20px 20px 150px; }
        
        .search-box {
            width: 100%; padding: 15px 15px; background: #000; border: 1px solid var(--border);
            border-radius: 12px; color: white; outline: none; margin-bottom: 20px;
        }

        .note-card {
            background: var(--card); border: 1px solid var(--border); padding: 20px;
            border-radius: 15px; margin-bottom: 15px; cursor: pointer;
        }
        .note-card h3 { color: var(--gold); margin-bottom: 5px; font-family: 'Playfair Display', serif; }

        /* --- PLUS BUTTON --- */
        .fab {
            position: fixed; bottom: 100px; right: calc(50% - 220px); width: 65px; height: 65px;
            background: linear-gradient(135deg, #996515, var(--gold-light));
            border-radius: 50%; display: none; justify-content: center; align-items: center;
            color: #000; box-shadow: 0 5px 20px rgba(212, 175, 55, 0.5);
            cursor: pointer; z-index: 8000; border: 3px solid #000;
        }
        @media (max-width: 500px) { .fab { right: 25px; } }

        /* --- EDITOR VIEW --- */
        #editor-view {
            position: fixed; inset: 0; background: #000; z-index: 9000;
            display: none; flex-direction: column; width: 100%; max-width: 500px;
            margin: auto; border-left: 1px solid var(--border); border-right: 1px solid var(--border);
        }
        .editor-header { padding: 20px; display: flex; justify-content: space-between; border-bottom: 1px solid var(--border); }
        .editor-content { flex: 1; padding: 20px; display: flex; flex-direction: column; }
        #note-title { font-family: 'Playfair Display', serif; font-size: 30px; background: none; border: none; color: var(--gold); outline: none; width: 100%; margin-bottom: 10px; }
        #note-text { font-size: 18px; color: #ccc; background: none; border: none; outline: none; flex: 1; resize: none; line-height: 1.6; }

        /* --- FOOTER --- */
        .footer { padding: 15px; text-align: center; font-size: 10px; color: #555; background: #000; border-top: 1px solid var(--border); }
        .footer span { color: var(--gold); font-weight: 900; }

        .btn-icon { background: none; border: none; color: var(--gold); cursor: pointer; }
    </style>
</head>
<body>

    <!-- Splash Screen: Is par click kar ke bhi aage ja sakte hain -->
    <div id="splash" onclick="enterApp()">
        <h1>NOTE PAK</h1>
        <p style="color: var(--gold); letter-spacing: 3px; font-size: 10px; margin-top: 10px;">GOLDEN EDITION</p>
        <p style="color: #333; font-size: 9px; margin-top: 30px;">Click to skip</p>
    </div>

    <!-- Dashbord UI -->
    <div class="app-shell" id="app-ui">
        <header>
            <h2>GOLDEN VAULT</h2>
        </header>

        <div class="dashboard">
            <input type="text" class="search-box" id="search-bar" placeholder="Search secrets..." oninput="render()">
            <div id="notes-container"></div>
        </div>

        <div class="footer">
            DESIGNED BY <span>MUHAMMAD FAIZAN AHMED</span>
        </div>
    </div>

    <!-- Plus Button -->
    <div id="plus-btn" class="fab" onclick="openEditor()">
        <i data-lucide="plus" size="35" stroke-width="3"></i>
    </div>

    <!-- Editor -->
    <div id="editor-view">
        <div class="editor-header">
            <button class="btn-icon" onclick="closeEditor()"><i data-lucide="arrow-left" size="30"></i></button>
            <div style="display: flex; gap: 20px;">
                <button class="btn-icon" onclick="saveNote()"><i data-lucide="save" size="24"></i></button>
            </div>
        </div>
        <div class="editor-content">
            <input type="text" id="note-title" placeholder="Noble Title...">
            <textarea id="note-text" placeholder="Start writing your golden thoughts..."></textarea>
        </div>
    </div>

    <script>
        // Start Icons
        lucide.createIcons();
        
        let notes = JSON.parse(localStorage.getItem('notepak_gold_v3')) || [];
        
        // Splash Fix Logic
        function enterApp() {
            document.getElementById('splash').style.display = 'none';
            document.getElementById('app-ui').style.display = 'flex';
            document.getElementById('plus-btn').style.display = 'flex';
            render();
        }

        // Auto skip after 3 seconds
        setTimeout(enterApp, 3000);

        function render() {
            const list = document.getElementById('notes-container');
            const q = document.getElementById('search-bar').value.toLowerCase();
            list.innerHTML = '';
            notes.filter(n => n.title.toLowerCase().includes(q)).forEach(n => {
                const div = document.createElement('div');
                div.className = 'note-card';
                div.onclick = () => {
                    document.getElementById('note-title').value = n.title;
                    document.getElementById('note-text').value = n.text;
                    document.getElementById('editor-view').style.display = 'flex';
                    document.getElementById('plus-btn').style.display = 'none';
                };
                div.innerHTML = `<h3>${n.title || 'Untitled'}</h3><p>${n.text.substring(0, 70)}...</p>`;
                list.appendChild(div);
            });
            lucide.createIcons();
        }

        function openEditor() {
            document.getElementById('note-title').value = '';
            document.getElementById('note-text').value = '';
            document.getElementById('editor-view').style.display = 'flex';
            document.getElementById('plus-btn').style.display = 'none';
        }

        function closeEditor() {
            document.getElementById('editor-view').style.display = 'none';
            document.getElementById('plus-btn').style.display = 'flex';
        }

        function saveNote() {
            const t = document.getElementById('note-title').value;
            const c = document.getElementById('note-text').value;
            if(t || c) {
                notes.unshift({id: Date.now(), title: t, text: c});
                localStorage.setItem('notepak_gold_v3', JSON.stringify(notes));
                render();
            }
            closeEditor();
        }
    </script>
</body>
</html>
