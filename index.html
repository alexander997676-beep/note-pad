<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VaultPad AURUM | Golden Premium Edition</title>
    
    <!-- Premium Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.0/lucide.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

    <style>
        :root {
            --gold: #D4AF37;
            --gold-bright: #FFD700;
            --gold-dark: #996515;
            --bg: #0a0a0a;
            --surface: #141414;
            --text: #e0e0e0;
            --border: #2a2a2a;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        
        body { 
            background: var(--bg); 
            color: var(--text); 
            height: 100vh; 
            overflow: hidden; 
            display: flex; 
            justify-content: center;
            background-image: 
                radial-gradient(circle at 0% 0%, rgba(212, 175, 55, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 100% 100%, rgba(212, 175, 55, 0.05) 0%, transparent 50%);
        }

        /* --- UI Wrapper --- */
        .aurum-shell {
            width: 100%; max-width: 500px; background: var(--surface); height: 100vh;
            position: relative; border-left: 1px solid var(--border);
            border-right: 1px solid var(--border); display: flex; flex-direction: column;
            box-shadow: 0 0 100px rgba(0,0,0,1);
        }

        /* --- Header --- */
        header { 
            padding: 40px 25px 20px; text-align: center; 
            border-bottom: 1px solid var(--border);
        }
        .premium-badge {
            font-size: 10px; color: var(--gold); border: 1px solid var(--gold);
            padding: 2px 8px; border-radius: 50px; text-transform: uppercase;
            letter-spacing: 2px; margin-bottom: 10px; display: inline-block;
        }
        header h1 { 
            font-family: 'Playfair Display', serif; font-size: 32px; 
            background: linear-gradient(to right, var(--gold-dark), var(--gold-bright), var(--gold-dark));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }

        /* --- Dashboard --- */
        .dashboard { flex: 1; overflow-y: auto; padding: 25px; padding-bottom: 120px; }
        
        .search-container { position: relative; margin-bottom: 30px; }
        .search-bar {
            width: 100%; padding: 15px 15px 15px 45px; background: #000;
            border: 1px solid var(--border); border-radius: 15px; color: white; outline: none;
            transition: 0.3s;
        }
        .search-bar:focus { border-color: var(--gold); box-shadow: 0 0 15px rgba(212, 175, 55, 0.2); }
        .search-icon { position: absolute; left: 15px; top: 15px; color: var(--gold); }

        .note-card {
            background: linear-gradient(145deg, #1a1a1a, #0f0f0f);
            border: 1px solid var(--border); padding: 25px; border-radius: 25px;
            margin-bottom: 20px; cursor: pointer; transition: 0.4s;
            position: relative; overflow: hidden;
        }
        .note-card:hover { 
            border-color: var(--gold); transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .note-card::after {
            content: ''; position: absolute; top: 0; left: -100%; width: 50%; height: 100%;
            background: linear-gradient(to right, transparent, rgba(212, 175, 55, 0.1), transparent);
            transition: 0.5s;
        }
        .note-card:hover::after { left: 150%; }

        .note-card h3 { font-size: 20px; color: var(--gold); margin-bottom: 10px; display: flex; align-items: center; gap: 10px; }
        .note-card p { font-size: 14px; color: #888; line-height: 1.6; }

        /* --- Floating Plus Button --- */
        .fab {
            position: absolute; bottom: 40px; right: 30px; width: 70px; height: 70px;
            background: linear-gradient(135deg, var(--gold-dark), var(--gold-bright));
            border-radius: 50%; display: flex; justify-content: center; align-items: center;
            color: #000; box-shadow: 0 10px 30px rgba(212, 175, 55, 0.4);
            cursor: pointer; z-index: 100; border: 3px solid #000;
        }

        /* --- Editor Screen --- */
        .editor-view {
            position: absolute; inset: 0; background: var(--bg); z-index: 500;
            display: none; flex-direction: column;
        }
        .editor-header { 
            padding: 25px; display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid var(--border);
        }
        .editor-body { flex: 1; padding: 30px; overflow-y: auto; }
        
        #edit-title { 
            font-family: 'Playfair Display', serif; font-size: 32px; width: 100%;
            background: none; border: none; color: var(--gold); outline: none; margin-bottom: 20px;
        }
        #edit-content { 
            font-size: 18px; width: 100%; height: 70%; background: none; border: none;
            color: #ccc; outline: none; resize: none; line-height: 1.8;
        }

        .gold-toolbar { 
            padding: 15px 25px; background: #000; display: flex; justify-content: space-between;
            border-top: 1px solid var(--border);
        }
        .tool-btn { background: none; border: none; color: var(--gold); cursor: pointer; transition: 0.2s; }
        .tool-btn:hover { transform: scale(1.2); filter: brightness(1.2); }

        /* --- Premium Modals --- */
        .overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.95); backdrop-filter: blur(15px);
            z-index: 1000; display: none; justify-content: center; align-items: center;
        }
        .premium-modal {
            background: var(--surface); border: 1px solid var(--gold); padding: 40px;
            border-radius: 30px; width: 85%; max-width: 360px; text-align: center;
            box-shadow: 0 0 50px rgba(212, 175, 55, 0.1);
        }
        .premium-modal input {
            width: 100%; padding: 18px; border-radius: 15px; border: 1px solid var(--border);
            background: #000; color: white; margin: 25px 0; text-align: center; font-size: 22px;
            outline: none;
        }
        .premium-modal input:focus { border-color: var(--gold); }
        .btn-gold {
            width: 100%; padding: 18px; border-radius: 15px; border: none;
            background: linear-gradient(to right, var(--gold-dark), var(--gold-bright));
            color: #000; font-weight: 800; cursor: pointer; text-transform: uppercase;
        }

        /* --- Custom Scrollbar --- */
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-thumb { background: var(--gold-dark); border-radius: 10px; }

        .date-badge { font-size: 11px; color: var(--gold-dark); margin-top: 15px; display: block; }
    </style>
</head>
<body>

    <div class="aurum-shell">
        <header>
            <span class="premium-badge">VaultPad Aurum Edition</span>
            <h1>Golden Vault</h1>
        </header>

        <div class="dashboard">
            <div class="search-container">
                <i data-lucide="search" class="search-icon" size="20"></i>
                <input type="text" class="search-bar" id="search-input" placeholder="Search your gold..." oninput="renderNotes()">
            </div>
            <div id="notes-container">
                <!-- Notes load here -->
            </div>
        </div>

        <div class="fab" onclick="newNote()">
            <i data-lucide="crown" size="32"></i>
        </div>

        <!-- EDITOR SCREEN -->
        <div class="editor-view" id="editor-screen">
            <div class="editor-header">
                <button class="tool-btn" onclick="exitEditor()"><i data-lucide="chevron-left" size="32"></i></button>
                <div style="display: flex; gap: 20px;">
                    <button class="tool-btn" onclick="exportPDF()"><i data-lucide="file-down"></i></button>
                    <button class="tool-btn" onclick="setNoteSecurity()"><i data-lucide="shield-check"></i></button>
                    <button class="tool-btn" style="color: var(--gold-bright)" onclick="saveAndClose()"><i data-lucide="check-circle-2"></i></button>
                </div>
            </div>
            <div class="editor-body">
                <input type="text" id="edit-title" placeholder="Prestige Title...">
                <textarea id="edit-content" placeholder="Write your golden thoughts here..."></textarea>
            </div>
            <div class="gold-toolbar">
                <div style="display: flex; gap: 20px;">
                    <button class="tool-btn" onclick="applyFormat('bold')"><i data-lucide="bold"></i></button>
                    <button class="tool-btn" onclick="applyFormat('list')"><i data-lucide="list"></i></button>
                </div>
                <span id="word-count" style="font-size: 12px; color: var(--gold-dark);">0 words</span>
            </div>
        </div>

        <!-- AUTH MODAL -->
        <div class="overlay" id="auth-modal">
            <div class="premium-modal">
                <i data-lucide="lock" size="50" style="color: var(--gold)"></i>
                <h2 id="modal-title" style="margin-top: 15px;">Vault Authorization</h2>
                <input type="password" id="modal-pass" placeholder="••••">
                <button class="btn-gold" id="modal-btn">Access Secrets</button>
                <button class="tool-btn" style="width: 100%; margin-top: 15px;" onclick="closeModal()">Cancel</button>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();

        let notes = JSON.parse(localStorage.getItem('vault_aurum_db')) || [];
        let activeId = null;

        // --- Core Engine ---

        function renderNotes() {
            const container = document.getElementById('notes-container');
            const search = document.getElementById('search-input').value.toLowerCase();
            container.innerHTML = '';

            notes.filter(n => n.title.toLowerCase().includes(search)).forEach(n => {
                const card = document.createElement('div');
                card.className = 'note-card';
                card.onclick = () => openNote(n.id);
                card.innerHTML = `
                    <h3>${n.password ? '<i data-lucide="lock" size="18"></i>' : ''} ${n.title || 'Untitled'}</h3>
                    <p>${n.password ? 'This luxury note is encrypted with AES-256' : n.content.substring(0, 100) + '...'}</p>
                    <span class="date-badge">Member since: ${n.date}</span>
                    <button class="tool-btn" onclick="deleteNote(event, ${n.id})" style="position:absolute; right:25px; bottom:25px; color:#333;"><i data-lucide="trash-2" size="16"></i></button>
                `;
                container.appendChild(card);
            });
            lucide.createIcons();
        }

        function newNote() {
            activeId = null;
            document.getElementById('edit-title').value = '';
            document.getElementById('edit-content').value = '';
            document.getElementById('editor-screen').style.display = 'flex';
        }

        function openNote(id) {
            const note = notes.find(n => n.id === id);
            activeId = id;
            
            if (note.password) {
                showModal("Enter Vault Key", (pass) => {
                    try {
                        const bytes = CryptoJS.AES.decrypt(note.content, pass);
                        const dec = bytes.toString(CryptoJS.enc.Utf8);
                        if (!dec) throw 'error';
                        loadEditor(note.title, dec);
                        closeModal();
                    } catch(e) { alert("Security Violation: Wrong Key!"); }
                });
            } else {
                loadEditor(note.title, note.content);
            }
        }

        function loadEditor(t, c) {
            document.getElementById('edit-title').value = t;
            document.getElementById('edit-content').value = c;
            document.getElementById('editor-screen').style.display = 'flex';
            updateWordCount();
        }

        function saveAndClose() {
            const t = document.getElementById('edit-title').value;
            let c = document.getElementById('edit-content').value;
            if (!t && !c) return exitEditor();

            if (activeId) {
                const n = notes.find(x => x.id === activeId);
                if (n.password) c = CryptoJS.AES.encrypt(c, n.password).toString();
                Object.assign(n, { title: t, content: c, date: new Date().toLocaleDateString() });
            } else {
                notes.unshift({ 
                    id: Date.now(), title: t, content: c, password: null, 
                    date: new Date().toLocaleDateString() 
                });
            }
            sync(); exitEditor();
        }

        function setNoteSecurity() {
            showModal("Secure with Gold Key", (p) => {
                if (!p) return;
                const c = document.getElementById('edit-content').value;
                const enc = CryptoJS.AES.encrypt(c, p).toString();
                if (activeId) {
                    const n = notes.find(x => x.id === activeId);
                    n.content = enc; n.password = p;
                } else {
                    notes.unshift({ 
                        id: Date.now(), title: document.getElementById('edit-title').value || 'Premium Note',
                        content: enc, password: p, date: new Date().toLocaleDateString() 
                    });
                }
                sync(); closeModal(); exitEditor();
            });
        }

        function deleteNote(e, id) {
            e.stopPropagation();
            if (confirm("Kyu aap is Premium Note ko hamesha ke liye mitana chahte hain?")) {
                notes = notes.filter(n => n.id !== id);
                sync();
            }
        }

        // --- Premium Utilities ---

        function exportPDF() {
            const t = document.getElementById('edit-title').value;
            const c = document.getElementById('edit-content').value;
            const text = `VAULTPAD AURUM - PREMIUM EXPORT\n\nTITLE: ${t}\nDATE: ${new Date().toLocaleString()}\n--------------------------\n\n${c}`;
            const blob = new Blob([text], {type: "text/plain"});
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = `${t || 'premium_note'}.txt`;
            a.click();
        }

        function applyFormat(type) {
            const area = document.getElementById('edit-content');
            const start = area.selectionStart;
            const end = area.selectionEnd;
            const selectedText = area.value.substring(start, end);

            if (type === 'bold') area.setRangeText(`**${selectedText}**`);
            if (type === 'list') area.setRangeText(`\n- ${selectedText}`);
            area.focus();
        }

        function updateWordCount() {
            const text = document.getElementById('edit-content').value.trim();
            const count = text ? text.split(/\s+/).length : 0;
            document.getElementById('word-count').innerText = `${count} words`;
        }

        function showModal(title, cb) {
            document.getElementById('auth-modal').style.display = 'flex';
            document.getElementById('modal-title').innerText = title;
            const input = document.getElementById('modal-pass');
            input.value = ''; input.focus();
            document.getElementById('modal-btn').onclick = () => cb(input.value);
        }

        function closeModal() { document.getElementById('auth-modal').style.display = 'none'; }
        function exitEditor() { document.getElementById('editor-screen').style.display = 'none'; }
        function sync() { localStorage.setItem('vault_aurum_db', JSON.stringify(notes)); renderNotes(); }

        document.getElementById('edit-content').oninput = updateWordCount;

        renderNotes();
    </script>
</body>
</html>
